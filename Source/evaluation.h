/*
  Monolith 0.1  Copyright (C) 2017 Jonas Mayr

  This file is part of Monolith.

  Monolith is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Monolith is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Monolith. If not, see <http://www.gnu.org/licenses/>.
*/


#pragma once

#include "position.h"
#include "main.h"

namespace eval
{
	int material(pos &board);
	int piece_square(pos &board);

	int eval_board(pos &board);

	void init();
};


const int p_s_table[6][2][2][64] //[piece][stage][color][value]
{
	{
		{
			{  //[PAWNS][MG][WHITE][]
				0,  0,  0,  0,  0,  0,  0,  0,
			   50, 50, 50, 50, 50, 50, 50, 50,
			   10, 10, 20, 30, 30, 20, 10, 10,
				5,  5, 10, 25, 25, 10,  5,  5,
				0,  0,  0, 20, 20,  0,  0,  0,
				5, -5,-10,  0,  0,-10, -5,  5,
				5, 10, 10,-25,-25, 10, 10,  5,
				0,  0,  0,  0,  0,  0,  0,  0
			},
			{  //[PAWNS][MG][BLACK][]
				0,  0,  0,  0,  0,  0,  0,  0,
				5, 10, 10,-25,-25, 10, 10,  5,
				5, -5,-10,  0,  0,-10, -5,  5,
				0,  0,  0, 20, 20,  0,  0,  0,
				5,  5, 10, 25, 25, 10,  5,  5,
			   10, 10, 20, 30, 30, 20, 10, 10,
			   50, 50, 50, 50, 50, 50, 50, 50,
				0,  0,  0,  0,  0,  0,  0,  0
			}
		},
		{
			{  //[PAWNS][EG][WHITE][]
				0,  0,  0,  0,  0,  0,  0,  0,
			   50, 50, 50, 50, 50, 50, 50, 50,
			   40, 40, 40, 40, 40, 40, 40, 40,
			   30, 30, 30, 30, 30, 30, 30, 30,
			   20, 20, 20, 20, 20, 20, 20, 20,
			   10, 10, 10, 10, 10, 10, 10, 10,
				0,  0,  0,  0,  0,  0,  0,  0,
				0,  0,  0,  0,  0,  0,  0,  0
			},
			{  //[PAWNS][EG][BLACK][]
				0,  0,  0,  0,  0,  0,  0,  0,
				0,  0,  0,  0,  0,  0,  0,  0,
			   10, 10, 10, 10, 10, 10, 10, 10,
			   20, 20, 20, 20, 20, 20, 20, 20,
			   30, 30, 30, 30, 30, 30, 30, 30,
			   40, 40, 40, 40, 40, 40, 40, 40,
			   50, 50, 50, 50, 50, 50, 50, 50,
				0,  0,  0,  0,  0,  0,  0,  0,
			}
		}
	},
	{
		{
			{  //[ROOKS][MG][WHITE][]
				0,  0,  0,  0,  0,  0,  0,  0,
				5, 10, 10, 10, 10, 10, 10,  5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
				0,  0,  0,  5,  5,  0,  0,  0
			},
			{  //[ROOKS][MG][BLACK][]
				0,  0,  0,  5,  5,  0,  0,  0,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
				5, 10, 10, 10, 10, 10, 10,  5,
				0,  0,  0,  0,  0,  0,  0,  0
			}
		},
		{
			{  //[ROOKS][EG][WHITE][]
				0,  0,  0,  0,  0,  0,  0,  0,
				5, 10, 10, 10, 10, 10, 10,  5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
				0,  0,  0,  5,  5,  0,  0,  0
			},
			{  //[ROOKS][EG][BLACK][]
				0,  0,  0,  5,  5,  0,  0,  0,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
			   -5,  0,  0,  0,  0,  0,  0, -5,
				5, 10, 10, 10, 10, 10, 10,  5,
				0,  0,  0,  0,  0,  0,  0,  0
			}
		}
	},
	{
		{
			{  //[KNIGHTS][MG][WHITE][]
				-40,-30,-20,-20,-20,-20,-30,-40,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-40,-30,-20,-20,-20,-20,-30,-40
			},
			{  //[KNIGHTS][MG][BLACK][]
				-40,-30,-20,-20,-20,-20,-30,-40,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-40,-30,-20,-20,-20,-20,-30,-40
			}
		},
		{
			{  //[KNIGHTS][EG][WHITE][]
				-40,-30,-20,-20,-20,-20,-30,-40,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-40,-30,-20,-20,-20,-20,-30,-40
			},
			{  //[KNIGHTS][EG][BLACK][]
				-40,-30,-20,-20,-20,-20,-30,-40,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 15, 20, 20, 15,  0,-20,
				-20,  0, 10, 15, 15, 10,  0,-20,
				-30,-20,  0,  0,  0,  0,-20,-30,
				-40,-30,-20,-20,-20,-20,-30,-40
			}
		}
	},
	{
		{
			{  //[BISHOPS][MG][WHITE][]
				-20,-10,-10,-10,-10,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0,  5, 10, 10,  5,  0,-10,
				-10,  5,  5, 10, 10,  5,  5,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10, 10, 10, 10, 10, 10, 10,-10,
				-10,  5,  0,  0,  0,  0,  5,-10,
				-20,-10,-10,-10,-10,-10,-10,-20
			},
			{  //[BISHOPS][MG][BLACK][]
				-20,-10,-10,-10,-10,-10,-10,-20,
				-10,  5,  0,  0,  0,  0,  5,-10,
				-10, 10, 10, 10, 10, 10, 10,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  5,  5, 10, 10,  5,  5,-10,
				-10,  0,  5, 10, 10,  5,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10,-10,-10,-10,-10,-20
			}
		},
		{
			{  //[BISHOPS][EG][WHITE][]
				-20,-10,-10,-10,-10,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10,-10,-10,-10,-10,-20
			},
			{  //[BISHOPS][EG][BLACK][]
				-20,-10,-10,-10,-10,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0, 10, 10, 10, 10,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10,-10,-10,-10,-10,-20
			}
		}
	},
	{
		{
			{  //[QUEENS][MG][WHITE][]
				-20,-10,-10, -5, -5,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0,  5,  5,  5,  5,  0,-10,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				-10,  0,  5,  5,  5,  5,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10, -5, -5,-10,-10,-20
			},
			{  //[QUEENS][MG][BLACK][]
				-20,-10,-10, -5, -5,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0,  5,  5,  5,  5,  0,-10,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				-10,  0,  5,  5,  5,  5,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10, -5, -5,-10,-10,-20
			}
		},
		{
			{  //[QUEENS][EG][WHITE][]
				-20,-10,-10, -5, -5,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0,  5,  5,  5,  5,  0,-10,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				-10,  0,  5,  5,  5,  5,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10, -5, -5,-10,-10,-20
			},
			{  //[QUEENS][EG][BLACK][]
				-20,-10,-10, -5, -5,-10,-10,-20,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-10,  0,  5,  5,  5,  5,  0,-10,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				 -5,  0,  5,  5,  5,  5,  0, -5,
				-10,  0,  5,  5,  5,  5,  0,-10,
				-10,  0,  0,  0,  0,  0,  0,-10,
				-20,-10,-10, -5, -5,-10,-10,-20
			}
		}
	},
	{
		{
			{  //[KINGS][MG][WHITE][]
				-30,-40,-40,-50,-50,-40,-40,-30,
				-30,-40,-40,-50,-50,-40,-40,-30,
				-30,-40,-40,-50,-50,-40,-40,-30,
				-30,-40,-40,-50,-50,-40,-40,-30,
				-20,-30,-30,-40,-40,-30,-30,-20,
				-10,-20,-20,-20,-20,-20,-20,-10,
				 20, 20,  0,  0,  0,  0, 20, 20,
				 20, 30, 10,  0,  0, 10, 30, 20
			},
			{  //[KINGS][MG][BLACK][]
				20, 30, 10,  0,  0, 10, 30, 20,
				20, 20,  0,  0,  0,  0, 20, 20,
			   -10,-20,-20,-20,-20,-20,-20,-10,
			   -20,-30,-30,-40,-40,-30,-30,-20,
			   -30,-40,-40,-50,-50,-40,-40,-30,
			   -30,-40,-40,-50,-50,-40,-40,-30,
			   -30,-40,-40,-50,-50,-40,-40,-30,
			   -30,-40,-40,-50,-50,-40,-40,-30
			}
		},
		{
			{  //[KINGS][EG][WHITE][]
				-50,-40,-30,-20,-20,-30,-40,-50,
				-30,-20,-10,  0,  0,-10,-20,-30,
				-30,-10, 20, 30, 30, 20,-10,-30,
				-30,-10, 30, 40, 40, 30,-10,-30,
				-30,-10, 30, 40, 40, 30,-10,-30,
				-30,-10, 20, 30, 30, 20,-10,-30,
				-30,-30,  0,  0,  0,  0,-30,-30,
				-50,-30,-30,-30,-30,-30,-30,-50
			},
			{  //[KINGS][EG][BLACK][]
				-50,-30,-30,-30,-30,-30,-30,-50,
				-30,-30,  0,  0,  0,  0,-30,-30,
				-30,-10, 20, 30, 30, 20,-10,-30,
				-30,-10, 30, 40, 40, 30,-10,-30,
				-30,-10, 30, 40, 40, 30,-10,-30,
				-30,-10, 20, 30, 30, 20,-10,-30,
				-30,-20,-10,  0,  0,-10,-20,-30,
				-50,-40,-30,-20,-20,-30,-40,-50
			}
		}
	}
};